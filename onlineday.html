<html>
	<head>
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<link href="https://cdn.bootcss.com/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css" rel="stylesheet">
				<script src="https://cdn.bootcss.com/moment.js/2.24.0/moment.js"></script>
				<style>
					@font-face{
						font-family: 'Library3am';
						src : url('Library-3-am-3.otf');
					}
					html, body {
						padding: 0;
						margin: 0;
						font-family:"Library3am";
					}
					</style>
	</head>
	<body class="bg-light">
		<div class="container">
	<div class="py-5 text-center">
		<h2>Generate an Online Day Banner</h2>
		<p class="lead">In 10 seconds</p>
	</div>

		<h4 class="d-flex justify-content-between align-items-center mb-3">
			<span class="text-muted">Information</span>
		</h4>
		<div class="input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">Airport ICAO</span>
			</div>
			<input type="text" class="form-control" id="aptIcao" required>
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon"><i class="fa fa-calendar"></i></span>
			<input type="text" id="datepicker"  placeholder="Date" readonly class="form-control picker">
		</div>
		<br>
		<div class="input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">Day Of Week</span>
			</div>
			<input type="text" class="form-control" id="dow" value="Wed." required>
		</div>
		<br>
		<div class="input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">Time</span>
			</div>
			<input type="text" class="form-control" id="time" value="1200z-1600z" required>
		</div>
		<br>
		<div class="input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">City Name</span>
			</div>
			<input type="text" class="form-control" id="aptName" required>
		</div>
		<br>

		<button type="button" class="btn btn-primary" id="generate">Give me a Banner!</button>

	</div>
	<div class="col-md-8 order-md-1">
		<h></h>
		<img id="onlineday" src="Onlineday.jpg" width="1500" height="750" alt="img"/ style="display:none">
		<center>
			<canvas id="myCanvas" width="1500" height="750">
			Your browser does not support the HTML5 canvas tag.
			</canvas>
		</center>
	</div>
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
</body>
<script src="https://cdn.bootcss.com/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.js"></script>
<script>
$("#datepicker").datepicker({
					format: "yyyy-mm-dd", 
					todayBtn: "linked",
					language: "zh-CN",
					orientation: "auto",//日期控件显示位置
					startView:"days",//默认显示视图：months、years、centuries，可选
					minViewMode:"days",//最小显示视图
					keyboardNavigation: false,
					autoclose: true,
					todayHighlight: true
				});	
				function formatDate(date) {
  var date = new Date(date);
  var YY = date.getFullYear() + '/';
  var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '/';
  var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());
  return YY + MM + DD
}

var img = document.getElementById("onlineday");

const buttona = document.getElementById('generate')
buttona.disabled = true

img.onload = function(){
	buttona.disabled = true
}

$("#generate").click(function(){	
	var img = document.getElementById("onlineday");
	var c = document.getElementById("myCanvas");
	var ctx=c.getContext("2d");
	date = $("#datepicker").val()

	icao = $("#aptIcao").val()
	name = $("#aptName").val()
	dow = $("#dow").val()
	time = $("#time").val()

	ctx.drawImage(img, 0, 0);
	ctx.font="200px Library3am";
	ctx.fillText(icao,100,485);

	ctx.font="100px Library3am";
	ctx.fillText(name+" Online Day",100,600);


	ctx.font="50px Library3am";
	ctx.fillText(date + " "+ dow +" " + time,100,670);
})
</script>
</html>



